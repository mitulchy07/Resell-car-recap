{"ast":null,"code":"var _jsxFileName = \"/Users/mitul/Projects with Jhankar Mahmud/ResellMarketRecap/resell-market-client-side/src/Pages/Login/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { AuthContext } from '../../Context/AuthProvider/AuthProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  var _errors$name, _errors$email, _errors$password;\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    reset\n  } = useForm();\n  const navigate = useNavigate();\n  const {\n    createUser,\n    updateUser\n  } = useContext(AuthContext);\n  const notify = () => toast(`Registration Successful`);\n  const [signUpError, setSignUpError] = useState('');\n  const handleSignUp = data => {\n    createUser(data.email, data.password).then(result => {\n      const user = result.user;\n      console.log(user);\n      updateUser(data.name);\n      const userData = {\n        name: data.name,\n        email: data.email,\n        role: data.status,\n        verified: false\n      };\n      fetch('https://server-side-virid.vercel.app/users ', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n        if (data.acknowledged) {\n          console.log('data added');\n        }\n      }).catch(err => console.error(err));\n      reset();\n      notify();\n      navigate('/');\n    }).catch(err => {\n      console.error(err);\n      setSignUpError(err.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"grid grid-cols-1 gap-2 max-w-lg m-4\",\n    onSubmit: handleSubmit(handleSignUp),\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"input btn-success btn-outline\",\n      type: \"name\",\n      ...register('name', {\n        required: 'Name is requierd'\n      }),\n      placeholder: \"Full Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-600\",\n      children: [\" \", (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"input btn-success btn-outline\",\n      ...register('email', {\n        required: 'Email address is requierd'\n      }),\n      type: \"email\",\n      placeholder: \"Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-600\",\n      children: [\" \", (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"input btn-success btn-outline\",\n      ...register('password', {\n        required: 'Password is requierd',\n        minLength: {\n          value: 6,\n          message: 'Password should be minimum 6 characters.'\n        }\n      }),\n      type: \"password\",\n      placeholder: \"Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-600\",\n      children: [\" \", (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" m-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...register('status', {\n          required: true\n        }),\n        type: \"radio\",\n        value: \"buyer\",\n        className: \"radio radio-secondary\",\n        checked: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mx-5\",\n        children: \"Buyer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ...register('status', {\n          required: true\n        }),\n        type: \"radio\",\n        value: \"seller\",\n        className: \"radio radio-secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mx-5\",\n        children: \"Seller\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/login\",\n      children: \"Already have an account?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"input btn-success btn-outline\",\n      type: \"submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500\",\n      children: signUpError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"yFC2lYLi5VzF+W+vOn50ZOALXok=\", false, function () {\n  return [useForm, useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useContext","useState","useForm","Link","useNavigate","toast","AuthContext","Register","register","handleSubmit","formState","errors","reset","navigate","createUser","updateUser","notify","signUpError","setSignUpError","handleSignUp","data","email","password","then","result","user","console","log","name","userData","role","status","verified","fetch","method","headers","body","JSON","stringify","res","json","acknowledged","catch","err","error","message","required","minLength","value"],"sources":["/Users/mitul/Projects with Jhankar Mahmud/ResellMarketRecap/resell-market-client-side/src/Pages/Login/Register.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { AuthContext } from '../../Context/AuthProvider/AuthProvider';\n\nconst Register = () => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm();\n  const navigate = useNavigate();\n  const { createUser, updateUser } = useContext(AuthContext);\n  const notify = () => toast(`Registration Successful`);\n\n  const [signUpError, setSignUpError] = useState('');\n  const handleSignUp = (data) => {\n    createUser(data.email, data.password)\n      .then((result) => {\n        const user = result.user;\n        console.log(user);\n        updateUser(data.name);\n        const userData = {\n          name: data.name,\n          email: data.email,\n          role: data.status,\n          verified: false,\n        };\n\n        fetch('https://server-side-virid.vercel.app/users ', {\n          method: 'POST',\n          headers: {\n            'content-type': 'application/json',\n          },\n          body: JSON.stringify(userData),\n        })\n          .then((res) => res.json())\n          .then((data) => {\n            console.log(data);\n            if (data.acknowledged) {\n              console.log('data added');\n            }\n          })\n          .catch((err) => console.error(err));\n        reset();\n        notify();\n        navigate('/');\n      })\n      .catch((err) => {\n        console.error(err);\n        setSignUpError(err.message);\n      });\n  };\n  return (\n    <form\n      className='grid grid-cols-1 gap-2 max-w-lg m-4'\n      onSubmit={handleSubmit(handleSignUp)}\n    >\n      <input\n        className='input btn-success btn-outline'\n        type='name'\n        {...register('name', { required: 'Name is requierd' })}\n        placeholder='Full Name'\n      />\n      {errors.name && <p className='text-red-600'> {errors.name?.message} </p>}\n      <input\n        className='input btn-success btn-outline'\n        {...register('email', { required: 'Email address is requierd' })}\n        type='email'\n        placeholder='Email'\n      />\n      {errors.email && (\n        <p className='text-red-600'> {errors.email?.message} </p>\n      )}\n\n      <input\n        className='input btn-success btn-outline'\n        {...register('password', {\n          required: 'Password is requierd',\n          minLength: {\n            value: 6,\n            message: 'Password should be minimum 6 characters.',\n          },\n        })}\n        type='password'\n        placeholder='Password'\n      />\n      {errors.password && (\n        <p className='text-red-600'> {errors.password?.message} </p>\n      )}\n      <div className=' m-5'>\n        <input\n          {...register('status', { required: true })}\n          type='radio'\n          value='buyer'\n          className='radio radio-secondary'\n          checked\n        />\n        <span className='mx-5'>Buyer</span>\n        <input\n          {...register('status', { required: true })}\n          type='radio'\n          value='seller'\n          className='radio radio-secondary'\n        />\n        <span className='mx-5'>Seller</span>\n      </div>\n      <Link to='/login'>Already have an account?</Link>\n      <input className='input btn-success btn-outline' type='submit' />\n      <p className='text-red-500'>{signUpError}</p>\n    </form>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}