{"ast":null,"code":"var _jsxFileName = \"/Users/mitul/Projects with Jhankar Mahmud/ResellMarketRecap/resell-market-client-side/src/Pages/Dashboard/MyItems/MyItems.js\",\n  _s = $RefreshSig$();\nimport { useQuery } from '@tanstack/react-query';\nimport React, { useContext } from 'react';\nimport { toast } from 'react-toastify';\nimport { AuthContext } from '../../../Context/AuthProvider/AuthProvider';\nimport ItemDetails from '../ItemDetails/ItemDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyItems = () => {\n  _s();\n  const advertise = {\n    advertise: true\n  };\n  const {\n    user\n  } = useContext(AuthContext);\n  const {\n    data: cart = [],\n    refetch\n  } = useQuery({\n    queryKey: ['cart', `${user === null || user === void 0 ? void 0 : user.email}`],\n    queryFn: async () => {\n      const res = await fetch(`https://server-side-virid.vercel.app/myitems/${user === null || user === void 0 ? void 0 : user.email}`);\n      const data = await res.json();\n      return data;\n    }\n  });\n  const handleDelete = id => {\n    const proceed = window.confirm('Are You Sure?');\n    if (proceed) {\n      fetch(`https://server-side-virid.vercel.app/myitems/${id}`, {\n        method: 'DELETE'\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n        if (data.deletedCount > 0) {\n          toast.warn('Deleted', {\n            position: 'top-center',\n            autoClose: 1000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            theme: 'dark'\n          });\n          refetch();\n        }\n      });\n    }\n  };\n  const handleAdvertise = id => {\n    fetch(`https://server-side-virid.vercel.app/myitems/${id}`, {\n      method: 'PUT',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(advertise)\n    }).then(res => res.json()).then(data => {\n      if (data.modifiedCount > 0) {\n        toast.success('Your is advertised.', {\n          position: 'top-center',\n          autoClose: 1000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: 'dark'\n        });\n        refetch();\n      }\n      console.log(data);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1  gap-5 m-4 justify-center justify-self-center\",\n    children: [cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center text-3xl text-red-500\",\n      children: \"You Have Not Added Any Item Yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"You have added \", cart.length, \" Items\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), cart.map(cardata => /*#__PURE__*/_jsxDEV(ItemDetails, {\n      cardata: cardata,\n      handleDelete: handleDelete,\n      handleAdvertise: handleAdvertise\n    }, cardata._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(MyItems, \"Dv5O/c0vuS6Cea+hD4S6F715jhg=\", false, function () {\n  return [useQuery];\n});\n_c = MyItems;\nexport default MyItems;\nvar _c;\n$RefreshReg$(_c, \"MyItems\");","map":{"version":3,"names":["useQuery","React","useContext","toast","AuthContext","ItemDetails","MyItems","advertise","user","data","cart","refetch","queryKey","email","queryFn","res","fetch","json","handleDelete","id","proceed","window","confirm","method","then","console","log","deletedCount","warn","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","handleAdvertise","headers","body","JSON","stringify","modifiedCount","success","length","map","cardata","_id"],"sources":["/Users/mitul/Projects with Jhankar Mahmud/ResellMarketRecap/resell-market-client-side/src/Pages/Dashboard/MyItems/MyItems.js"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport React, { useContext } from 'react';\nimport { toast } from 'react-toastify';\nimport { AuthContext } from '../../../Context/AuthProvider/AuthProvider';\nimport ItemDetails from '../ItemDetails/ItemDetails';\n\nconst MyItems = () => {\n  const advertise = {\n    advertise: true,\n  };\n  const { user } = useContext(AuthContext);\n\n  const { data: cart = [], refetch } = useQuery({\n    queryKey: ['cart', `${user?.email}`],\n    queryFn: async () => {\n      const res = await fetch(\n        `https://server-side-virid.vercel.app/myitems/${user?.email}`\n      );\n      const data = await res.json();\n      return data;\n    },\n  });\n\n  const handleDelete = (id) => {\n    const proceed = window.confirm('Are You Sure?');\n    if (proceed) {\n      fetch(`https://server-side-virid.vercel.app/myitems/${id}`, {\n        method: 'DELETE',\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data);\n          if (data.deletedCount > 0) {\n            toast.warn('Deleted', {\n              position: 'top-center',\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n              theme: 'dark',\n            });\n            refetch();\n          }\n        });\n    }\n  };\n  const handleAdvertise = (id) => {\n    fetch(`https://server-side-virid.vercel.app/myitems/${id}`, {\n      method: 'PUT',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify(advertise),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.modifiedCount > 0) {\n          toast.success('Your is advertised.', {\n            position: 'top-center',\n            autoClose: 1000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            theme: 'dark',\n          });\n          refetch();\n        }\n        console.log(data);\n      });\n  };\n\n  return (\n    <div className='grid grid-cols-1  gap-5 m-4 justify-center justify-self-center'>\n      {cart.length === 0 ? (\n        <h1 className='text-center text-3xl text-red-500'>\n          You Have Not Added Any Item Yet.\n        </h1>\n      ) : (\n        <h1>You have added {cart.length} Items</h1>\n      )}\n      {cart.map((cardata) => (\n        <ItemDetails\n          key={cardata._id}\n          cardata={cardata}\n          handleDelete={handleDelete}\n          handleAdvertise={handleAdvertise}\n        ></ItemDetails>\n      ))}\n    </div>\n  );\n};\n\nexport default MyItems;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}